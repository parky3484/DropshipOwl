{
  "name": "dropshipowl",
  "version": "1.0.0",
  "private": true,
  "scripts": {
    "dev": "vite",
    "build": "vite build",
    "preview": "vite preview",
    "server": "node server/index.js"
  },
  "dependencies": {
    "express": "^4.18.2",
    "stripe": "^12.0.0",
    "cors": "^2.8.5",
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  "devDependencies": {
    "@vitejs/plugin-react": "^4.0.0",
    "autoprefixer": "^10.4.17",
    "postcss": "^8.4.35",
    "tailwindcss": "^3.4.1",
    "vite": "^5.0.0"
  }
}
import { defineConfig } from "vite";
import react from "@vitejs/plugin-react";

export default defineConfig({
  plugins: [react()],
  server: {
    port: 5173
  }
});
export default {
  content: ["./index.html", "./src/**/*.{js,jsx}"],
  theme: {
    extend: {}
  },
  plugins: []
};
export default {
  plugins: {
    tailwindcss: {},
    autoprefixer: {}
  }
};
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DropshipOwl</title>
  </head>
  <body class="bg-gray-100">
    <div id="root"></div>
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>
import React from "react";
import ReactDOM from "react-dom/client";
import App from "./App.jsx";
import "./styles.css";

ReactDOM.createRoot(document.getElementById("root")).render(<App />);
@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  font-family: sans-serif;
}
import { useState, useEffect } from "react";

export default function App() {
  const [unlocked, setUnlocked] = useState(false);
  const [page, setPage] = useState("landing");
  const [moduleIndex, setModuleIndex] = useState(0);
  const [lessonIndex, setLessonIndex] = useState(0);
  const [progress, setProgress] = useState({});

  const course = {
    name: "DropshipOwl",
    modules: [
      {
        title: "Module 1: Introduction",
        lessons: [
          { title: "What Is Dropshipping", content: "Welcome to DropshipOwl..." },
          { title: "How It Works", content: "Dropshipping works by..." },
        ]
      },
      {
        title: "Module 2: Product Research",
        lessons: [
          { title: "Finding Winning Products", content: "Winning products are found by..." },
          { title: "Testing Products Fast", content: "Testing involves..." }
        ]
      },
      {
        title: "Module 3: Building Your Store",
        lessons: [
          { title: "Store Layout", content: "Your store should be..." },
          { title: "Product Pages That Convert", content: "To convert visitors..." }
        ]
      },
      {
        title: "Module 4: Marketing & Ads",
        lessons: [
          { title: "TikTok Ads", content: "TikTok ads work because..." },
          { title: "Facebook Ads", content: "Facebook ad structure..." }
        ]
      },
      {
        title: "Module 5: Logistics",
        lessons: [
          { title: "Suppliers", content: "Good suppliers must..." },
          { title: "Order Fulfillment", content: "To fulfill orders..." }
        ]
      },
      {
        title: "Module 6: Scaling",
        lessons: [
          { title: "Hiring VAs", content: "Virtual assistants help..." },
          { title: "Automating Systems", content: "Automation is done by..." }
        ]
      }
    ]
  };

  useEffect(() => {
    const bought = localStorage.getItem("dropshipowl_bought");
    if (bought === "true") setUnlocked(true);

    const params = new URLSearchParams(window.location.search);
    if (params.get("success") === "1") {
      localStorage.setItem("dropshipowl_bought", "true");
      setUnlocked(true);
    }
  }, []);

  function startCheckout() {
    fetch("http://localhost:4242/create-checkout-session", { method: "POST" })
      .then(res => res.json())
      .then(data => {
        window.location = data.url;
      });
  }

  function openLesson(m, l) {
    setModuleIndex(m);
    setLessonIndex(l);
    setPage("lesson");
  }

  function markComplete() {
    const key = `${moduleIndex}-${lessonIndex}`;
    setProgress(prev => ({ ...prev, [key]: true }));
  }

  function donePercentage() {
    const total = course.modules.reduce((acc, m) => acc + m.lessons.length, 0);
    const done = Object.keys(progress).length;
    return Math.round((done / total) * 100);
  }

  if (page === "landing") {
    return (
      <div className="p-10">
        <h1 className="text-5xl font-bold mb-4">DropshipOwl</h1>
        <p className="text-xl mb-6">Master dropshipping step-by-step.</p>

        {!unlocked && (
          <button
            onClick={startCheckout}
            className="px-6 py-3 bg-blue-600 text-white rounded"
          >
            Buy Now — Unlock Course
          </button>
        )}

        {unlocked && (
          <button
            onClick={() => setPage("dashboard")}
            className="px-6 py-3 bg-green-600 text-white rounded"
          >
            Enter Course
          </button>
        )}
      </div>
    );
  }

  if (page === "dashboard") {
    return (
      <div className="p-10">
        <h1 className="text-4xl font-bold mb-4">{course.name}</h1>
        <p className="mb-6 text-lg">Progress: {donePercentage()}%</p>

        <div className="space-y-4">
          {course.modules.map((m, i) => (
            <div key={i} className="p-4 bg-white rounded shadow">
              <h2 className="text-2xl font-semibold mb-2">{m.title}</h2>

              <div className="space-y-2">
                {m.lessons.map((l, j) => (
                  <button
                    key={j}
                    onClick={() => openLesson(i, j)}
                    className="block w-full text-left p-2 rounded bg-gray-100 hover:bg-gray-200"
                  >
                    {l.title}
                  </button>
                ))}
              </div>
            </div>
          ))}
        </div>
      </div>
    );
  }

  const lesson = course.modules[moduleIndex].lessons[lessonIndex];

  return (
    <div className="p-10">
      <button onClick={() => setPage("dashboard")} className="mb-4 underline">
        ← Back
      </button>

      <h1 className="text-3xl font-bold mb-4">{lesson.title}</h1>
      <p className="mb-6 text-lg">{lesson.content}</p>

      <button
        onClick={markComplete}
        className="px-5 py-2 bg-green-600 text-white rounded"
      >
        Mark Complete
      </button>
    </div>
  );
}
import express from "express";
import cors from "cors";
import Stripe from "stripe";
import path from "path";
import { fileURLToPath } from "url";

const stripe = Stripe("sk_test_123"); 
const app = express();

app.use(cors());
app.use(express.json());

const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

app.use("/resources", express.static(path.join(__dirname, "resources")));

app.post("/create-checkout-session", async (req, res) => {
  const session = await stripe.checkout.sessions.create({
    mode: "payment",
    line_items: [
      {
        price_data: {
          currency: "usd",
          unit_amount: 4900,
          product_data: { name: "DropshipOwl Full Course" }
        },
        quantity: 1
      }
    ],
    success_url: "http://localhost:5173/?success=1",
    cancel_url: "http://localhost:5173/?canceled=1"
  });

  res.json({ url: session.url });
});

app.listen(4242, () => console.log("Server running on 4242"));
